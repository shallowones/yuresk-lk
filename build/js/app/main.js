"use strict";!function(e,t){e(function(){var n=function(e){return void 0!==e&&e.length};e(".js-select").selectmenu(),e(".js-count").on("click",function(t){t.preventDefault();var n=e(t.currentTarget),o=n.parent().find("input[readonly]"),a=parseInt(o.val());n.minus=function(){a>0&&o.val(a-1)},n.plus=function(){o.val(a+1)},n[n.data("action")]()}),e(".js-calendar").each(function(t,n){var o=e(n),a=o.parent().find(".calendar-icon"),s=o.datepicker({offset:2,onShow:function(e){e.$el.addClass("show")},onHide:function(e){e.$el.removeClass("show")}}).data("datepicker");a.on("click",function(e){e.preventDefault(),s.show()}),o.hasClass("show")&&s.show()}),e(".js-file").jfilestyle({buttonText:"Обзор",placeholder:"Файл не выбран"}),e(".js-file[disabled]").jfilestyle({disabled:!0});var o=e(".js-notice");o.find(".close").on("click",function(e){e.preventDefault(),o.slideUp()});var a=e(".js-tab"),s=e(".js-target");a.on("click",function(t){t.preventDefault();var n=e(t.currentTarget),o=e(n.data("target"));a.removeClass("active"),s.removeClass("show"),n.addClass("active"),o.addClass("show")}),e(".js-slider").swiper({nextButton:".swiper-button-next",prevButton:".swiper-button-prev",slidesPerView:"auto",loop:!0});e(".js-more").on("click",function(t){t.preventDefault();var n=t.currentTarget,o=e(n),a=n.innerText,s=n.dataset.text,i=e(n.dataset.target),l=o.hasClass("active");i.slideToggle(l),function(e){o.animate({opacity:0},400,function(){o.text(s).attr("data-text",a).animate({opacity:1},400),e?o.removeClass("active"):o.addClass("active")})}(l)}),window.jBoxOpenEvent="jBoxOpenEvent",window.jBoxCloseComplete="jBoxCloseComplete";new t("Modal",{attach:".js-popup",onOpen:function(){var t=this,o=this.source,a=this.content,s=e(o.data("target")),i=s.html();n(i)?(s.html(""),this.setContent(i),a.find("button[data-close]").on("click",function(e){e.preventDefault(),t.close()}),a.find("select").selectmenu()):this.close(),window.jBoxActiveModal=this.wrapper,this.wrapper.trigger(window.jBoxOpenEvent)},onCloseComplete:function(){var t=this.source,n=this.content,o=e(t.data("target"));n.find("select").selectmenu("destroy");var a=n.html();n.html(""),o.append(a),window.jBoxActiveModal=this.wrapper,this.wrapper.trigger(window.jBoxCloseComplete)}});e(document).on(window.jBoxOpenEvent,function(){console.log("is open"),console.log(window.jBoxActiveModal.find("button"))}).on(window.jBoxCloseComplete,function(){console.log("is close"),console.log(this)})})}(jQuery,jBox);